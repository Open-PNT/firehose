name: Format

on: [push, pull_request]

jobs:
    validate:
        runs-on: ubuntu-24.04
        steps:
        - uses: actions/checkout@v4
        - name: Set up Python 3.13
          uses: actions/setup-python@v3
          with:
              python-version: 3.13
        - name: Install dependencies
          run: |
                python -m pip install --upgrade pip
                pip install black==22.12.0
        - name: Checking format with black
          run:
               |
                # If there is a diff, print it first before erroring.
                black . --skip-string-normalization --skip-magic-trailing-comma --line-length 79 --diff
                black . --skip-string-normalization --skip-magic-trailing-comma --line-length 79 --check
